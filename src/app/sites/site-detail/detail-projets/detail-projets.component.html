<div *ngIf="projetsLite.length > 0; then thenBlock; else elseBlock"></div>

<div class="detail-projets">
  <ng-template #thenBlock>
    <div>
      <h2 *ngIf="projetsLite.length == 1">{{ projetsLite.length }} projet.</h2>
      <h2 *ngIf="projetsLite.length > 1">{{ projetsLite.length }} projets.</h2>
      
      <section class="edition">
        Ajouter un nouveau projet : <button mat-icon-button
            matTooltip="Ajouter un projet"
            class="btn-edition"
            (click)="onSelect()">
            <mat-icon>add</mat-icon>
        </button>
      </section>

      <mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="responsable" class="responsable">
          <mat-header-cell *matHeaderCellDef class="responsable">
            Responsable
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="responsable" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.responsable }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="annee" class="annee">
          <mat-header-cell *matHeaderCellDef class="annee">
            Année
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="annee" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.annee }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="date_deb" class="date_deb">
          <mat-header-cell *matHeaderCellDef class="date_deb">
            Date début
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="date_deb" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.date_deb }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="projet" class="projet">
          <mat-header-cell *matHeaderCellDef class="projet">
            Nom (Projet)
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="projet" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.projet }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="action" class="action">
          <mat-header-cell *matHeaderCellDef class="action">
            Type (Action)
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="action" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.action }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="typ_interv" class="typ_inter">
          <mat-header-cell *matHeaderCellDef class="typ_inter">
            Type d'intervention
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="typ_inter" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.typ_inter }}
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="statut" class="statut">
          <mat-header-cell *matHeaderCellDef class="statut">
            Statut
          </mat-header-cell>
          <mat-cell *matCellDef="let element; let i = index" class="statut" [ngClass]="{'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0}">
            {{ element.statut }}
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row
          *matRowDef="let row; columns: displayedColumns"
          (click)="onSelect(row)"
        ></mat-row>
      </mat-table>
    </div>
  </ng-template>

  <ng-template #elseBlock> Il n'y a pas de projets sur ce site. </ng-template>
</div>
